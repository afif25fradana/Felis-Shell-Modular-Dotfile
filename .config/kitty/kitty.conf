# ~/.config/kitty/kitty.conf - Hyprland Aesthetic Edition - IMPROVED VERSION

# === FONT & TEXT RENDERING ===
font_family      JetBrains Mono Nerd Font
bold_font        JetBrains Mono Nerd Font Bold
italic_font      JetBrains Mono Nerd Font Italic
bold_italic_font JetBrains Mono Nerd Font Bold Italic
font_size        14.0

# Advanced text rendering
disable_ligatures never
text_composition_strategy 1.0 0
text_fg_override_threshold 0

# Better text quality
undercurl_style thick-sparse

# Font options for better readability
adjust_line_height 120%
adjust_column_width 100%

# === PERFORMANCE OPTIMIZATIONS ===
repaint_delay 4
input_delay 2
sync_to_monitor yes

# GPU acceleration
linux_display_server auto

# === WINDOW & VISUAL EFFECTS ===
# Hyprland-compatible transparency and blur
background_opacity 0.90
dynamic_background_opacity no

# Window styling with rounded corners
window_padding_width 16 20
single_window_margin_width 0
window_border_width 0
draw_minimal_borders yes
hide_window_decorations yes

# Initial window size
remember_window_size yes
initial_window_width 1600
initial_window_height 1000

# Resize behavior
resize_debounce_time 0.1
resize_in_steps no

# === SCROLLBACK & HISTORY ===
scrollback_lines 10000
scrollback_pager_history_size 100
scrollback_indicator_opacity 0.8

# Scrolling behavior
wheel_scroll_multiplier 3.0
wheel_scroll_min_lines 1
touch_scroll_multiplier 1.0

# === TABS - MODERN STYLE ===
tab_bar_edge bottom
tab_bar_margin_width 0.0
tab_bar_margin_height 10.0 0.0
tab_bar_style powerline
tab_powerline_style round
tab_bar_align left
tab_bar_min_tabs 2

tab_separator ""
tab_fade 0.25 0.5 0.75 1
tab_title_max_length 20
tab_title_template " {fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}:{title[title.rfind('/')+1:]} "

# Enhanced tab bar colors for better visibility
active_tab_foreground   #11111B
active_tab_background   #CBA6F7
active_tab_font_style   bold
inactive_tab_foreground #CDD6F4
inactive_tab_background #181825
inactive_tab_font_style normal
tab_bar_background      #11111B

# === ADVANCED FEATURES ===
# Cursor
cursor_shape block
cursor_beam_thickness 2.0
cursor_underline_thickness 2.0
cursor_blink_interval -1
cursor_stop_blinking_after 15.0

# Selection
select_by_word_characters @-./_~?&=%+#
select_by_word_characters_forward :

# URLs
url_style straight
open_url_with default
url_prefixes file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh
detect_urls yes

# Bell configuration
enable_audio_bell no
visual_bell_duration 0.0
visual_bell_color none
window_alert_on_bell yes
bell_on_tab "ðŸ”” "
command_on_bell none

# Shell integration
shell_integration enabled
allow_hyperlinks yes

# === CATPPUCCIN MOCHA THEME (OPTIMIZED) ===
# The name of the colorscheme is Catppuccin-Mocha
# Based on https://github.com/catppuccin/kitty

foreground              #CDD6F4
background              #1E1E2E
selection_foreground    #1E1E2E
selection_background    #F5E0DC

# Cursor colors
cursor                  #F5E0DC
cursor_text_color       #1E1E2E

# URL underline color when hovering with mouse
url_color               #89B4FA

# Kitty window border colors
active_border_color     #B4BEFE
inactive_border_color   #6C7086
bell_border_color       #F9E2AF

# OS Window titlebar colors
wayland_titlebar_color  #1E1E2E

# Tab bar colors
active_tab_foreground   #11111B
active_tab_background   #CBA6F7
inactive_tab_foreground #CDD6F4
inactive_tab_background #181825
tab_bar_background      #11111B

# Colors for marks (marked text in the terminal)
mark1_foreground #1E1E2E
mark1_background #B4BEFE
mark2_foreground #1E1E2E
mark2_background #CBA6F7
mark3_foreground #1E1E2E
mark3_background #74C7EC

# The basic colors
color0  #45475A
color1  #F38BA8
color2  #A6E3A1
color3  #F9E2AF
color4  #89B4FA
color5  #F5C2E7
color6  #94E2D5
color7  #BAC2DE
color8  #585B70
color9  #F38BA8
color10 #A6E3A1
color11 #F9E2AF
color12 #89B4FA
color13 #F5C2E7
color14 #94E2D5
color15 #A6ADC8

# === KEYBOARD SHORTCUTS ===
# Clear default shortcuts that conflict
clear_all_shortcuts no

# Window management - Hyprland style
map super+enter         new_window
map super+shift+enter   new_tab
map super+w             close_window
map super+shift+w       close_tab
map super+n             new_os_window

# Tab navigation
map super+1             goto_tab 1
map super+2             goto_tab 2
map super+3             goto_tab 3
map super+4             goto_tab 4
map super+5             goto_tab 5
map super+6             goto_tab 6
map super+7             goto_tab 7
map super+8             goto_tab 8
map super+9             goto_tab 9
map super+0             goto_tab 10

map super+h             previous_tab
map super+l             next_tab
map super+shift+h       move_tab_backward
map super+shift+l       move_tab_forward

# Font size
map ctrl+shift+equal    change_font_size all +1.0
map ctrl+shift+plus     change_font_size all +1.0
map ctrl+shift+minus    change_font_size all -1.0
map ctrl+shift+0        change_font_size all 0

# Copy/paste
map ctrl+shift+c        copy_to_clipboard
map ctrl+shift+v        paste_from_clipboard
map ctrl+shift+s        paste_from_selection
map shift+insert        paste_from_selection

# Scrolling
map ctrl+shift+up       scroll_line_up
map ctrl+shift+k        scroll_line_up
map ctrl+shift+down     scroll_line_down
map ctrl+shift+j        scroll_line_down
map ctrl+shift+page_up  scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home     scroll_home
map ctrl+shift+end      scroll_end

# Layout management
map ctrl+shift+l        next_layout
map ctrl+shift+t        goto_layout tall
map ctrl+shift+s        goto_layout stack
map ctrl+shift+f        goto_layout fat
map ctrl+shift+g        goto_layout grid

# Window resizing
map ctrl+shift+left     resize_window narrower
map ctrl+shift+right    resize_window wider
map ctrl+shift+up       resize_window taller
map ctrl+shift+down     resize_window shorter 3

# Miscellaneous
map ctrl+shift+f2       edit_config_file
map ctrl+shift+escape   kitty_shell window
map ctrl+shift+a>m      set_background_opacity +0.1
map ctrl+shift+a>l      set_background_opacity -0.1
map ctrl+shift+a>1      set_background_opacity 1
map ctrl+shift+a>d      set_background_opacity default

# === MOUSE ACTIONS ===
# Better mouse handling
mouse_hide_wait 2.0
focus_follows_mouse no
pointer_shape_when_grabbed arrow
default_pointer_shape beam

# Click behaviors
mouse_map left            click ungrabbed mouse_handle_click selection link prompt
mouse_map shift+left      click grabbed,ungrabbed mouse_handle_click selection link prompt
mouse_map ctrl+shift+left click grabbed,ungrabbed mouse_handle_click link
mouse_map ctrl+left       click ungrabbed mouse_handle_click prompt
mouse_map right           click ungrabbed mouse_selection extend
mouse_map shift+right     click ungrabbed mouse_selection extend

# Triple click selects line
mouse_map left            triplepress ungrabbed mouse_selection line
mouse_map ctrl+alt+left   triplepress ungrabbed mouse_selection line_from_point

# === ADVANCED SETTINGS ===
# Terminal identification
term xterm-kitty

# Shell
shell .
editor .

# Remote control
allow_remote_control socket-only
listen_on unix:/tmp/kitty-{kitty_pid}

# Update checking
update_check_interval 0

# Startup session
startup_session none

# Background image (disabled for performance)
background_image none

# Confirm quit
confirm_os_window_close -1
